<Window x:Class="VorTech.App.Views.SelectPackItemsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Sélection d'articles pour le pack" Height="540" Width="720"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResizeWithGrip"
        Background="{DynamicResource Panel}">
    <Grid Margin="8">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- barre recherche -->
            <RowDefinition Height="*"/>
            <!-- DataGrid -->
            <RowDefinition Height="Auto"/>
            <!-- footer boutons -->
        </Grid.RowDefinitions>

        <!-- Barre de recherche -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,8">
            <TextBlock Text="Rechercher:" VerticalAlignment="Center" Margin="0,0,8,0"
               Foreground="{DynamicResource Fore}"/>
            <TextBox x:Name="SearchBox" Width="240"
             TextChanged="SearchBox_TextChanged"/>
        </StackPanel>

        <!-- Grille des lignes sélectionnables -->
        <DataGrid x:Name="GridChoices" Grid.Row="1"
            AutoGenerateColumns="False"
            CanUserAddRows="False" CanUserDeleteRows="False"
            IsReadOnly="True"
            SelectionMode="Extended"
            SelectionUnit="FullRow"
            HeadersVisibility="Column">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Article / Variante"
                          Binding="{Binding DisplayName}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Footer: Qté par défaut + OK / Annuler -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
            <TextBlock Text="Qté :" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <TextBox x:Name="QtyDefaultBox" Width="80" Text="1" Margin="0,0,12,0"/>
            <Button x:Name="BtnAdd"    Content="OK"      Width="100" Margin="0,0,8,0" Click="BtnAdd_Click"/>
            <Button x:Name="BtnCancel" Content="Annuler" Width="100"               Click="BtnCancel_Click"/>
        </StackPanel>
    </Grid>
</Window>