<Window x:Class="VorTech.App.Views.SelectPackItemsWindow"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
Title="Sélection d'articles pour le pack" Height="540" Width="720"
WindowStartupLocation="CenterOwner"
ResizeMode="CanResizeWithGrip"
Background="{DynamicResource Panel}">
    <DockPanel>
        <!-- Barre de recherche -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="8">
            <TextBlock Text="Rechercher:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource Fore}"/>
            <TextBox x:Name="SearchBox" Width="240" TextChanged="SearchBox_TextChanged"/>
        </StackPanel>


        <!-- Grille des lignes sélectionnables (une ligne par article simple sans variantes, ou par VARIANTE) -->
        <DataGrid x:Name="GridChoices"
AutoGenerateColumns="False"
CanUserAddRows="False" CanUserDeleteRows="False"
SelectionMode="Extended" SelectionUnit="FullRow"
Margin="8" HeadersVisibility="Column"
Background="{DynamicResource Panel}" Foreground="{DynamicResource Fore}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Article / Variante" Binding="{Binding DisplayName}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>


        <!-- Footer: Qté par défaut + boutons -->
        <DockPanel DockPanel.Dock="Bottom" LastChildFill="True" Margin="8">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                <TextBlock Text="Quantité par défaut:" Margin="0,0,8,0" Foreground="{DynamicResource Fore}"/>
                <TextBox x:Name="QtyDefaultBox" Width="80" Text="1"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" HorizontalAlignment="Right">
                <Button Content="Annuler" Width="110" Margin="0,0,8,0" Click="BtnCancel_Click"/>
                <Button Content="Ajouter à la composition" Width="180" Click="BtnAdd_Click"/>
            </StackPanel>
        </DockPanel>
    </DockPanel>
</Window>